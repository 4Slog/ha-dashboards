title: Family
path: family
icon: mdi:map-marker-account
panel: true
theme: default

cards:
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 1fr
      grid-auto-rows: min-content
      justify-content: stretch
      align-content: start
      gap: 16px
      padding: 16px
    cards:
      - !include _header.yaml

      # === FAMILY BANNER ===
      - type: custom:button-card
        name: FAMILY LOCATION
        icon: mdi:map-marker-account
        show_name: true
        show_icon: true
        tap_action:
          action: none
        styles:
          card:
            - height: 50px
            - border-radius: 12px
            - background: linear-gradient(135deg, #fa709a 0%, #fee140 100%)
            - box-shadow: 0 4px 12px rgba(250, 112, 154, 0.3)
            - padding: 0 16px
          grid:
            - grid-template-areas: '"i n"'
            - grid-template-columns: auto 1fr
          icon:
            - width: 28px
            - height: 28px
            - color: white
            - margin-right: 12px
          name:
            - font-size: 1.5rem
            - font-weight: 700
            - color: white
            - justify-self: start
            - letter-spacing: 1px

      # === FAMILY CONTENT ===
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 1fr 2fr
          gap: 16px
        cards:
          # LEFT COLUMN: Paul & Tuella status
          - type: vertical-stack
            cards:
              # Paul
              - type: custom:mushroom-person-card
                entity: person.paul_sowu
                use_entity_picture: true
                layout: vertical
                primary_info: name
                secondary_info: state
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 16px;
                      font-size: 1.2rem !important;
                      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    }

              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.paul_s_phone_battery_level
                    name: Battery
                  - type: entity
                    entity: sensor.paul_s_phone_battery_state
                    name: Charging
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 16px;
                      font-size: 1.1rem !important;
                      margin-top: -8px;
                      margin-bottom: 16px;
                      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    }

              # Tuella
              - type: custom:mushroom-person-card
                entity: person.tuella_sowu
                use_entity_picture: true
                layout: vertical
                primary_info: name
                secondary_info: state
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 16px;
                      font-size: 1.2rem !important;
                      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    }

              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.tuellas_samsung_battery_level
                    name: Battery
                  - type: entity
                    entity: sensor.tuellas_samsung_battery_state
                    name: Charging
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 16px;
                      font-size: 1.1rem !important;
                      margin-top: -8px;
                      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    }

          # RIGHT COLUMN: Map
          - type: map
            entities:
              - person.paul_sowu
              - person.tuella_sowu
              - zone.home
            hours_to_show: 2
            default_zoom: 13
            dark_mode: true
            card_mod:
              style: |
                ha-card {
                  min-height: 500px;
                  border-radius: 16px;
                  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
