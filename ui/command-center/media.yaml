title: Media
path: media
icon: mdi:spotify
panel: true
theme: default

cards:
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 1fr
      grid-auto-rows: min-content
      justify-content: stretch
      align_content: start
      gap: 0
      padding: 0
    card_mod:
      style: |
        ha-card {
          height: 100vh;
          overflow-y: auto;
          background: var(--primary-background-color);
        }

    cards:
      # === HEADER (NAV + DATE/TIME) ===
      - !include components/header-media.yaml

      # === SCROLLABLE CONTENT AREA ===
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 1fr
          gap: 16px
          padding: 8px 16px 16px 16px
        cards:
          # === MEDIA BANNER ===
          - type: custom:button-card
            name: MEDIA
            icon: mdi:spotify
            show_name: true
            show_icon: true
            tap_action:
              action: none
            styles:
              card:
                - height: 30px
                - border-radius: 8px
                - background: linear-gradient(135deg, #1DB954 0%, #191414 100%)
                - box-shadow: 0 2px 8px rgba(29, 185, 84, 0.3)
                - padding: 0 12px
              grid:
                - grid-template-areas: '"i n"'
                - grid-template-columns: auto 1fr
              icon:
                - width: 18px
                - height: 18px
                - color: white
                - margin-right: 8px
              name:
                - font-size: 1.1rem
                - font-weight: 700
                - color: white
                - justify-self: start
                - letter-spacing: 0.5px
            card_mod:
              style: |
                @media (max-width: 1400px) {
                  ha-card { height: 26px !important; }
                  ha-card .name { font-size: 0.95rem !important; }
                }

          # === MAIN SPOTIFY PLAYER (Mini Media Player) ===
          - type: custom:mini-media-player
            entity: media_player.spotifyplus_paul_sowu
            name: Spotify
            icon: mdi:spotify
            artwork: full-cover
            source: full
            sound_mode: full
            info: scroll
            volume_stateless: false
            toggle_power: false
            show_progress: true
            show_shuffle: true
            show_source: true
            show_tts: false
            card_mod:
              style: |
                ha-card {
                  border-radius: 16px;
                  box-shadow: 0 6px 24px rgba(0,0,0,0.3);
                  overflow: hidden;
                  --mmp-accent-color: #1DB954;
                }
                @media (max-width: 1400px) {
                  ha-card { border-radius: 12px; }
                }

          # === SPEAKERS BANNER ===
          - type: custom:button-card
            name: SPEAKERS
            icon: mdi:speaker-multiple
            show_name: true
            show_icon: true
            tap_action:
              action: none
            styles:
              card:
                - height: 30px
                - border-radius: 8px
                - background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)
                - box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3)
                - padding: 0 12px
                - margin-top: 8px
              grid:
                - grid-template-areas: '"i n"'
                - grid-template-columns: auto 1fr
              icon:
                - width: 18px
                - height: 18px
                - color: white
                - margin-right: 8px
              name:
                - font-size: 1.1rem
                - font-weight: 700
                - color: white
                - justify-self: start
            card_mod:
              style: |
                @media (max-width: 1400px) {
                  ha-card { height: 26px !important; }
                }

          # === SPEAKER GRID ===
          - type: custom:layout-card
            layout_type: custom:grid-layout
            layout:
              grid-template-columns: repeat(3, 1fr)
              gap: 12px
            card_mod:
              style: |
                @media (max-width: 900px) {
                  :host { --layout-card-grid-template-columns: repeat(2, 1fr) !important; }
                }
            cards:
              # Kitchen Dot
              - type: custom:button-card
                entity: media_player.kitchen_dot
                name: Kitchen Dot
                icon: mdi:speaker
                show_state: true
                tap_action:
                  action: call-service
                  service: script.spotify_send_to
                  service_data:
                    speaker: "Kitchen dot"
                hold_action:
                  action: more-info
                state:
                  - value: "playing"
                    styles:
                      card:
                        - border: 2px solid #1DB954
                        - box-shadow: 0 4px 16px rgba(29, 185, 84, 0.4)
                      icon:
                        - color: '#1DB954'
                  - value: "paused"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.7)'
                  - value: "idle"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.5)'
                  - value: "unavailable"
                    styles:
                      card:
                        - opacity: 0.5
                      icon:
                        - color: 'rgba(255,255,255,0.3)'
                styles:
                  card:
                    - height: 100px
                    - border-radius: 12px
                    - background: rgba(255,255,255,0.05)
                    - border: 2px solid rgba(255,255,255,0.1)
                    - transition: all 0.3s ease
                  icon:
                    - width: 32px
                    - height: 32px
                    - color: white
                  name:
                    - font-size: 1rem
                    - font-weight: 600
                    - color: white
                  state:
                    - font-size: 0.8rem
                    - color: rgba(255,255,255,0.5)
                card_mod:
                  style: |
                    ha-card:hover {
                      border-color: rgba(29, 185, 84, 0.5);
                      box-shadow: 0 4px 12px rgba(29, 185, 84, 0.2);
                    }
                    @media (max-width: 1400px) {
                      ha-card { height: 80px !important; }
                    }

              # Family Dot
              - type: custom:button-card
                entity: media_player.family_dot
                name: Family Dot
                icon: mdi:speaker
                show_state: true
                tap_action:
                  action: call-service
                  service: script.spotify_send_to
                  service_data:
                    speaker: "Family dot"
                hold_action:
                  action: more-info
                state:
                  - value: "playing"
                    styles:
                      card:
                        - border: 2px solid #1DB954
                        - box-shadow: 0 4px 16px rgba(29, 185, 84, 0.4)
                      icon:
                        - color: '#1DB954'
                  - value: "paused"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.7)'
                  - value: "idle"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.5)'
                  - value: "unavailable"
                    styles:
                      card:
                        - opacity: 0.5
                      icon:
                        - color: 'rgba(255,255,255,0.3)'
                styles:
                  card:
                    - height: 100px
                    - border-radius: 12px
                    - background: rgba(255,255,255,0.05)
                    - border: 2px solid rgba(255,255,255,0.1)
                    - transition: all 0.3s ease
                  icon:
                    - width: 32px
                    - height: 32px
                    - color: white
                  name:
                    - font-size: 1rem
                    - font-weight: 600
                    - color: white
                  state:
                    - font-size: 0.8rem
                    - color: rgba(255,255,255,0.5)
                card_mod:
                  style: |
                    ha-card:hover {
                      border-color: rgba(29, 185, 84, 0.5);
                      box-shadow: 0 4px 12px rgba(29, 185, 84, 0.2);
                    }
                    @media (max-width: 1400px) {
                      ha-card { height: 80px !important; }
                    }

              # Kit & Fam (multi-room group: Kitchen + Family dots)
              - type: custom:button-card
                entity: media_player.kit_and_fam
                name: Kit & Fam
                icon: mdi:speaker-multiple
                show_state: true
                tap_action:
                  action: call-service
                  service: script.spotify_send_to
                  service_data:
                    speaker: "Kit and fam"
                hold_action:
                  action: more-info
                state:
                  - value: "playing"
                    styles:
                      card:
                        - border: 2px solid #1DB954
                        - box-shadow: 0 4px 16px rgba(29, 185, 84, 0.4)
                      icon:
                        - color: '#1DB954'
                  - value: "paused"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.7)'
                  - value: "idle"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.5)'
                  - value: "unavailable"
                    styles:
                      card:
                        - opacity: 0.5
                      icon:
                        - color: 'rgba(255,255,255,0.3)'
                styles:
                  card:
                    - height: 100px
                    - border-radius: 12px
                    - background: rgba(255,255,255,0.05)
                    - border: 2px solid rgba(255,255,255,0.1)
                    - transition: all 0.3s ease
                  icon:
                    - width: 32px
                    - height: 32px
                    - color: white
                  name:
                    - font-size: 1rem
                    - font-weight: 600
                    - color: white
                  state:
                    - font-size: 0.8rem
                    - color: rgba(255,255,255,0.5)
                card_mod:
                  style: |
                    ha-card:hover {
                      border-color: rgba(29, 185, 84, 0.5);
                      box-shadow: 0 4px 12px rgba(29, 185, 84, 0.2);
                    }
                    @media (max-width: 1400px) {
                      ha-card { height: 80px !important; }
                    }

              # Bose Home Speaker 300
              - type: custom:button-card
                entity: media_player.bose_speaker_media_player
                name: Bose Speaker
                icon: mdi:speaker-wireless
                show_state: true
                tap_action:
                  action: call-service
                  service: script.spotify_send_to
                  service_data:
                    speaker: "Bose Home Speaker 300"
                hold_action:
                  action: more-info
                state:
                  - value: "playing"
                    styles:
                      card:
                        - border: 2px solid #1DB954
                        - box-shadow: 0 4px 16px rgba(29, 185, 84, 0.4)
                      icon:
                        - color: '#1DB954'
                  - value: "paused"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.7)'
                  - value: "idle"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.5)'
                  - value: "unavailable"
                    styles:
                      card:
                        - opacity: 0.5
                      icon:
                        - color: 'rgba(255,255,255,0.3)'
                styles:
                  card:
                    - height: 100px
                    - border-radius: 12px
                    - background: rgba(255,255,255,0.05)
                    - border: 2px solid rgba(255,255,255,0.1)
                    - transition: all 0.3s ease
                  icon:
                    - width: 32px
                    - height: 32px
                    - color: white
                  name:
                    - font-size: 1rem
                    - font-weight: 600
                    - color: white
                  state:
                    - font-size: 0.8rem
                    - color: rgba(255,255,255,0.5)
                card_mod:
                  style: |
                    ha-card:hover {
                      border-color: rgba(29, 185, 84, 0.5);
                      box-shadow: 0 4px 12px rgba(29, 185, 84, 0.2);
                    }
                    @media (max-width: 1400px) {
                      ha-card { height: 80px !important; }
                    }

              # VACA Kitchen Tablet (P13PRO)
              - type: custom:button-card
                entity: media_player.kitchen_vaca_media_player
                name: Kitchen Tablet
                icon: mdi:tablet
                show_state: true
                tap_action:
                  action: call-service
                  service: script.spotify_send_to
                  service_data:
                    speaker: "P13PRO"
                hold_action:
                  action: more-info
                state:
                  - value: "playing"
                    styles:
                      card:
                        - border: 2px solid #1DB954
                        - box-shadow: 0 4px 16px rgba(29, 185, 84, 0.4)
                      icon:
                        - color: '#1DB954'
                  - value: "paused"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.7)'
                  - value: "idle"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.5)'
                  - value: "unavailable"
                    styles:
                      card:
                        - opacity: 0.5
                      icon:
                        - color: 'rgba(255,255,255,0.3)'
                styles:
                  card:
                    - height: 100px
                    - border-radius: 12px
                    - background: rgba(255,255,255,0.05)
                    - border: 2px solid rgba(255,255,255,0.1)
                    - transition: all 0.3s ease
                  icon:
                    - width: 32px
                    - height: 32px
                    - color: white
                  name:
                    - font-size: 1rem
                    - font-weight: 600
                    - color: white
                  state:
                    - font-size: 0.8rem
                    - color: rgba(255,255,255,0.5)
                card_mod:
                  style: |
                    ha-card:hover {
                      border-color: rgba(29, 185, 84, 0.5);
                      box-shadow: 0 4px 12px rgba(29, 185, 84, 0.2);
                    }
                    @media (max-width: 1400px) {
                      ha-card { height: 80px !important; }
                    }

              # Living Room TV (no Spotify - just media control)
              - type: custom:button-card
                entity: media_player.living_room_tv
                name: Living Room TV
                icon: mdi:television
                show_state: true
                tap_action:
                  action: more-info
                hold_action:
                  action: more-info
                state:
                  - value: "playing"
                    styles:
                      card:
                        - border: 2px solid #667eea
                        - box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4)
                      icon:
                        - color: '#667eea'
                  - value: "paused"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.7)'
                  - value: "idle"
                    styles:
                      icon:
                        - color: 'rgba(255,255,255,0.5)'
                  - value: "off"
                    styles:
                      card:
                        - opacity: 0.5
                      icon:
                        - color: 'rgba(255,255,255,0.3)'
                styles:
                  card:
                    - height: 100px
                    - border-radius: 12px
                    - background: rgba(255,255,255,0.05)
                    - border: 2px solid rgba(255,255,255,0.1)
                    - transition: all 0.3s ease
                  icon:
                    - width: 32px
                    - height: 32px
                    - color: white
                  name:
                    - font-size: 1rem
                    - font-weight: 600
                    - color: white
                  state:
                    - font-size: 0.8rem
                    - color: rgba(255,255,255,0.5)
                card_mod:
                  style: |
                    ha-card:hover {
                      border-color: rgba(102, 126, 234, 0.5);
                      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
                    }
                    @media (max-width: 1400px) {
                      ha-card { height: 80px !important; }
                    }

          # === BROWSE MUSIC BUTTON ===
          - type: custom:button-card
            name: Browse Music Library
            icon: mdi:playlist-music
            show_name: true
            show_icon: true
            tap_action:
              action: more-info
              entity: media_player.spotifyplus_paul_sowu
            hold_action:
              action: more-info
              entity: media_player.spotifyplus_paul_sowu
            styles:
              card:
                - height: 60px
                - border-radius: 12px
                - background: linear-gradient(135deg, rgba(29, 185, 84, 0.2) 0%, rgba(25, 20, 20, 0.4) 100%)
                - border: 2px solid rgba(29, 185, 84, 0.3)
                - box-shadow: 0 4px 16px rgba(29, 185, 84, 0.2)
                - margin-top: 8px
              grid:
                - grid-template-areas: '"i n"'
                - grid-template-columns: auto 1fr
              icon:
                - width: 28px
                - height: 28px
                - color: '#1DB954'
                - margin-right: 12px
              name:
                - font-size: 1.1rem
                - font-weight: 600
                - color: white
                - justify-self: start
            card_mod:
              style: |
                ha-card:hover {
                  border-color: #1DB954;
                  box-shadow: 0 6px 24px rgba(29, 185, 84, 0.4);
                }
                @media (max-width: 1400px) {
                  ha-card { height: 50px !important; }
                }
